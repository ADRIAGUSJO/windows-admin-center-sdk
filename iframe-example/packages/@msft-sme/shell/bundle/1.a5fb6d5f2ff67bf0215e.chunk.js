webpackJsonp([1],{f30y:function(n,t,e){"use strict";function l(n){return h["\u0275vid"](0,[(n()(),h["\u0275eld"](0,0,null,null,0,"div",[],[[8,"className",0]],null,null,null,null))],null,function(n,t){n(t,0,0,h["\u0275inlineInterpolate"](1,"tool-icon sme-icon ",t.parent.context.$implicit.fontIcon,""))})}function o(n){return h["\u0275vid"](0,[(n()(),h["\u0275eld"](0,0,null,null,0,"div",[["class","tool-icon"]],[[4,"background-image",null]],null,null,null,null))],null,function(n,t){n(t,0,0,"url("+t.parent.context.$implicit.entryPoint.icon+")")})}function i(n){return h["\u0275vid"](0,[(n()(),h["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),h["\u0275ted"](1,null,["",""]))],null,function(n,t){n(t,1,0,t.component.strings.sideLoadWarning)})}function r(n){return h["\u0275vid"](0,[(n()(),h["\u0275eld"](0,0,null,null,22,"a",[["class","tool sme-arrange-stack-h"],["tabindex","0"]],[[2,"active",null],[1,"title",0],[2,"sideloaded",null],[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==h["\u0275nov"](n,1).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),h["\u0275did"](1,671744,null,0,v.RouterLinkWithHref,[v.Router,v.ActivatedRoute,y.LocationStrategy],{routerLink:[0,"routerLink"]},null),(n()(),h["\u0275ted"](-1,null,["\n                        "])),(n()(),h["\u0275and"](16777216,null,null,1,null,l)),h["\u0275did"](4,16384,null,0,y.NgIf,[h.ViewContainerRef,h.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),h["\u0275ted"](-1,null,["\n                        "])),(n()(),h["\u0275and"](16777216,null,null,1,null,o)),h["\u0275did"](7,16384,null,0,y.NgIf,[h.ViewContainerRef,h.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),h["\u0275ted"](-1,null,["\n                        "])),(n()(),h["\u0275eld"](9,0,null,null,12,"div",[["class","tool-label"]],null,null,null,null,null)),(n()(),h["\u0275ted"](-1,null,["\n                            "])),(n()(),h["\u0275eld"](11,0,null,null,7,"div",[["class","tool-title"]],null,null,null,null,null)),(n()(),h["\u0275ted"](-1,null,["\n                                "])),(n()(),h["\u0275eld"](13,0,null,null,1,"span",[],[[8,"innerHTML",1]],null,null,null,null)),h["\u0275ppd"](14,2),(n()(),h["\u0275ted"](-1,null,["\n                                "])),(n()(),h["\u0275and"](16777216,null,null,1,null,i)),h["\u0275did"](17,16384,null,0,y.NgIf,[h.ViewContainerRef,h.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),h["\u0275ted"](-1,null,["\n                            "])),(n()(),h["\u0275ted"](-1,null,["\n                            "])),(n()(),h["\u0275ted"](-1,null,["\n                            "])),(n()(),h["\u0275ted"](-1,null,["\n                        "])),(n()(),h["\u0275ted"](-1,null,["\n                    "]))],function(n,t){n(t,1,0,t.context.$implicit.link),n(t,4,0,t.context.$implicit.fontIcon),n(t,7,0,!t.context.$implicit.fontIcon),n(t,17,0,t.context.$implicit.entryPoint.parentModule&&t.context.$implicit.entryPoint.parentModule.isSideLoaded)},function(n,t){var e=t.component;n(t,0,0,e.router.isActive(t.context.$implicit.link),e.splitView.isExpanded?"":t.context.$implicit.entryPoint.displayName,t.context.$implicit.entryPoint.parentModule&&t.context.$implicit.entryPoint.parentModule.isSideLoaded,h["\u0275nov"](t,1).target,h["\u0275nov"](t,1).href),n(t,13,0,h["\u0275unv"](t,13,0,n(t,14,0,h["\u0275nov"](t.parent,0),t.context.$implicit.entryPoint.displayName,e.filter)))})}function u(n){return h["\u0275vid"](0,[h["\u0275pid"](0,C.a,[]),h["\u0275qud"](402653184,1,{navigationContainer:0}),h["\u0275qud"](402653184,2,{splitView:0}),h["\u0275qud"](402653184,3,{searchTextBox:0}),(n()(),h["\u0275eld"](4,0,null,null,62,"div",[["class","sme-layout-absolute sme-position-inset-none sme-arrange-stack-h"]],null,null,null,null,null)),(n()(),h["\u0275ted"](-1,null,["\n    "])),(n()(),h["\u0275eld"](6,0,null,null,59,"sme-split-view",[["orientation","left"]],[[8,"className",0],[4,"flex-direction",null]],[["window","resize"]],function(n,t,e){var l=!0;return"window:resize"===t&&(l=!1!==h["\u0275nov"](n,8).onWindowResized()&&l),l},b.d,b.a)),h["\u0275prd"](6144,null,"layout",null,[x.a]),h["\u0275did"](8,1097728,[[2,4]],2,x.a,[],{isExpanded:[0,"isExpanded"],orientation:[1,"orientation"]},null),h["\u0275qud"](335544320,4,{content:0}),h["\u0275qud"](335544320,5,{pane:0}),(n()(),h["\u0275ted"](-1,null,["\n        "])),(n()(),h["\u0275eld"](12,0,null,1,45,"sme-split-view-pane",[],null,null,null,b.f,b.c)),h["\u0275did"](13,49152,[[5,4]],0,x.c,[],null,null),(n()(),h["\u0275ted"](-1,0,["\n            "])),(n()(),h["\u0275eld"](15,0,[[1,0],["navigationContainer",1]],0,41,"div",[["class","tools-nav sme-position-flex-none sme-arrange-stack-v sme-focus-zone"]],null,null,null,null,null)),h["\u0275did"](16,278528,null,0,y.NgClass,[h.IterableDiffers,h.KeyValueDiffers,h.ElementRef,h.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),h["\u0275pod"](17,{collapsed:0}),(n()(),h["\u0275ted"](-1,null,["\n                "])),(n()(),h["\u0275eld"](19,0,null,null,12,"div",[["class","tools-nav-title sme-position-flex-none sme-arrange-stack-h"]],null,null,null,null,null)),(n()(),h["\u0275ted"](-1,null,["\n                    "])),(n()(),h["\u0275eld"](21,0,null,null,1,"span",[["class","sme-position-flex-auto text"]],null,null,null,null,null)),(n()(),h["\u0275ted"](22,null,["",""])),(n()(),h["\u0275ted"](-1,null,["\n                    "])),(n()(),h["\u0275ted"](-1,null,["\n                    "])),(n()(),h["\u0275eld"](25,0,null,null,5,"button",[["class","split-view-toggle sme-button-trigger sme-button-auto-width sme-position-flex-none"]],[[8,"title",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.splitView.togglePane()&&l),l},null,null)),(n()(),h["\u0275ted"](-1,null,["\n                        "])),(n()(),h["\u0275eld"](27,0,null,null,2,"span",[["class","sme-icon"]],null,null,null,null,null)),h["\u0275did"](28,278528,null,0,y.NgClass,[h.IterableDiffers,h.KeyValueDiffers,h.ElementRef,h.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),h["\u0275pod"](29,{"sme-icon-chevronLeft":0,"sme-icon-chevronRight":1}),(n()(),h["\u0275ted"](-1,null,["\n                    "])),(n()(),h["\u0275ted"](-1,null,["\n                "])),(n()(),h["\u0275ted"](-1,null,["\n                "])),(n()(),h["\u0275ted"](-1,null,["\n                "])),(n()(),h["\u0275eld"](34,0,null,null,13,"div",[["class","searchbox searchbox-action-bar sme-position-flex-none"],["role","search"]],[[8,"title",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.expandToolsByClickSearchBox()&&l),l},null,null)),(n()(),h["\u0275ted"](-1,null,["\n                    "])),(n()(),h["\u0275eld"](36,0,null,null,3,"div",[["class","tool sme-arrange-stack-h search-button"]],null,null,null,null,null)),(n()(),h["\u0275ted"](-1,null,["\n                        "])),(n()(),h["\u0275eld"](38,0,null,null,0,"div",[["class","tool-icon sme-icon sme-icon-search"]],null,null,null,null,null)),(n()(),h["\u0275ted"](-1,null,["\n                    "])),(n()(),h["\u0275ted"](-1,null,["\n                    "])),(n()(),h["\u0275eld"](41,0,[[3,0],["searchTextBox",1]],null,5,"input",[["autofocus",""],["type","search"]],[[1,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var l=!0,o=n.component;return"input"===t&&(l=!1!==h["\u0275nov"](n,42)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==h["\u0275nov"](n,42).onTouched()&&l),"compositionstart"===t&&(l=!1!==h["\u0275nov"](n,42)._compositionStart()&&l),"compositionend"===t&&(l=!1!==h["\u0275nov"](n,42)._compositionEnd(e.target.value)&&l),"ngModelChange"===t&&(l=!1!==(o.filter=e)&&l),"focus"===t&&(l=!1!==o.onSearchBoxFocused()&&l),"blur"===t&&(l=!1!==o.onSearchBoxBlured()&&l),l},null,null)),h["\u0275did"](42,16384,null,0,P.DefaultValueAccessor,[h.Renderer2,h.ElementRef,[2,P.COMPOSITION_BUFFER_MODE]],null,null),h["\u0275prd"](1024,null,P.NG_VALUE_ACCESSOR,function(n){return[n]},[P.DefaultValueAccessor]),h["\u0275did"](44,671744,null,0,P.NgModel,[[8,null],[8,null],[8,null],[2,P.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),h["\u0275prd"](2048,null,P.NgControl,null,[P.NgModel]),h["\u0275did"](46,16384,null,0,P.NgControlStatus,[P.NgControl],null,null),(n()(),h["\u0275ted"](-1,null,["\n                "])),(n()(),h["\u0275ted"](-1,null,["\n                "])),(n()(),h["\u0275eld"](49,0,null,null,6,"nav",[["class","sme-position-flex-auto sme-arrange-overflow-hide-x sme-arrange-overflow-auto-y sme-padding-bottom-sm"],["role","navigation"]],[[1,"aria-label",0]],null,null,null,null)),(n()(),h["\u0275ted"](-1,null,["\n                    "])),(n()(),h["\u0275and"](16777216,null,null,1,null,r)),h["\u0275did"](52,802816,null,0,y.NgForOf,[h.ViewContainerRef,h.TemplateRef,h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),h["\u0275ted"](-1,null,["\n                    "])),(n()(),h["\u0275eld"](54,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),h["\u0275ted"](-1,null,["\n                "])),(n()(),h["\u0275ted"](-1,null,["\n            "])),(n()(),h["\u0275ted"](-1,0,["\n        "])),(n()(),h["\u0275ted"](-1,null,["\n        "])),(n()(),h["\u0275eld"](59,0,null,0,5,"sme-split-view-content",[],null,null,null,b.e,b.b)),h["\u0275did"](60,49152,[[4,4]],0,x.b,[],null,null),(n()(),h["\u0275ted"](-1,0,["\n            "])),(n()(),h["\u0275eld"](62,16777216,null,0,1,"router-outlet",[],null,null,null,null,null)),h["\u0275did"](63,212992,null,0,v.RouterOutlet,[v.ChildrenOutletContexts,h.ViewContainerRef,h.ComponentFactoryResolver,[8,null],h.ChangeDetectorRef],null,null),(n()(),h["\u0275ted"](-1,0,["\n        "])),(n()(),h["\u0275ted"](-1,null,["\n    "])),(n()(),h["\u0275ted"](-1,null,["\n"])),(n()(),h["\u0275ted"](-1,null,["\n"]))],function(n,t){var e=t.component;n(t,8,0,!0,"left"),n(t,16,0,"tools-nav sme-position-flex-none sme-arrange-stack-v sme-focus-zone",n(t,17,0,!e.splitView.isExpanded)),n(t,28,0,"sme-icon",n(t,29,0,e.splitView.isExpanded,!e.splitView.isExpanded)),n(t,44,0,e.filter),n(t,52,0,e.filteredTools),n(t,63,0)},function(n,t){var e=t.component;n(t,6,0,h["\u0275nov"](t,8).hostClass,h["\u0275nov"](t,8).flexDirection),n(t,22,0,e.strings.toolsTitle),n(t,25,0,e.splitView.isExpanded?e.strings.collapse:e.strings.expand),n(t,34,0,e.strings.searchPlaceholder),n(t,41,0,e.splitView.isExpanded?e.strings.searchPlaceholder:"",h["\u0275nov"](t,46).ngClassUntouched,h["\u0275nov"](t,46).ngClassTouched,h["\u0275nov"](t,46).ngClassPristine,h["\u0275nov"](t,46).ngClassDirty,h["\u0275nov"](t,46).ngClassValid,h["\u0275nov"](t,46).ngClassInvalid,h["\u0275nov"](t,46).ngClassPending),n(t,49,0,e.strings.Nav.Landmark.Secondary.aria.label)})}function a(n){return h["\u0275vid"](0,[(n()(),h["\u0275ted"](-1,null,["\n    "])),(n()(),h["\u0275eld"](1,0,null,null,9,"div",[["class","sme-layout-absolute sme-position-inset-none inserted-frame"]],null,null,null,null,null)),(n()(),h["\u0275ted"](-1,null,["\n      "])),(n()(),h["\u0275eld"](3,0,null,null,0,"iframe",[["allowfullscreen",""]],[[8,"className",0]],null,null,null,null)),(n()(),h["\u0275ted"](-1,null,["\n      "])),(n()(),h["\u0275eld"](5,0,null,null,0,"iframe",[["allowfullscreen",""]],[[8,"className",0]],null,null,null,null)),(n()(),h["\u0275ted"](-1,null,["\n      "])),(n()(),h["\u0275eld"](7,0,null,null,0,"iframe",[["allowfullscreen",""]],[[8,"className",0]],null,null,null,null)),(n()(),h["\u0275ted"](-1,null,["\n      "])),(n()(),h["\u0275eld"](9,0,null,null,0,"iframe",[["allowfullscreen",""]],[[8,"className",0]],null,null,null,null)),(n()(),h["\u0275ted"](-1,null,["\n    "])),(n()(),h["\u0275ted"](-1,null,["\n    "]))],null,function(n,t){var e=t.component;n(t,3,0,h["\u0275inlineInterpolate"](1,"",e.frameCollection[0].class,"")),n(t,5,0,h["\u0275inlineInterpolate"](1,"",e.frameCollection[1].class,"")),n(t,7,0,h["\u0275inlineInterpolate"](1,"",e.frameCollection[2].class,"")),n(t,9,0,h["\u0275inlineInterpolate"](1,"",e.frameCollection[3].class,""))})}function s(n){return h["\u0275vid"](0,[(n()(),h["\u0275eld"](0,0,null,null,7,"div",[["class","sme-layout-absolute sme-position-inset-none"]],null,null,null,null,null)),(n()(),h["\u0275ted"](-1,null,["\n        "])),(n()(),h["\u0275eld"](2,0,null,null,1,"sme-cached-frames",[],null,null,null,a,B)),h["\u0275did"](3,245760,null,0,L,[I.a,h.ElementRef,V.a],null,null),(n()(),h["\u0275ted"](-1,null,["\n        "])),(n()(),h["\u0275eld"](5,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),h["\u0275did"](6,212992,null,0,v.RouterOutlet,[v.ChildrenOutletContexts,h.ViewContainerRef,h.ComponentFactoryResolver,[8,null],h.ChangeDetectorRef],null,null),(n()(),h["\u0275ted"](-1,null,["\n    "]))],function(n,t){n(t,3,0),n(t,6,0)},null)}function c(n){return h["\u0275vid"](0,[(n()(),h["\u0275ted"](-1,null,["\n  "])),(n()(),h["\u0275eld"](1,0,null,null,1,"sme-loading-wheel",[],null,null,null,$.b,$.a)),h["\u0275did"](2,180224,null,0,q.a,[],null,null),(n()(),h["\u0275ted"](-1,null,["\n"]))],null,null)}function d(n){return h["\u0275vid"](0,[(n()(),h["\u0275ted"](-1,null,["\n  "])),(n()(),h["\u0275eld"](1,0,null,null,2,"sme-loading-wheel",[],null,[[null,"buttonClick"]],function(n,t,e){var l=!0;return"buttonClick"===t&&(l=!1!==n.component.cancel()&&l),l},$.b,$.a)),h["\u0275did"](2,180224,null,0,q.a,[],{message:[0,"message"],buttonLabel:[1,"buttonLabel"]},{buttonClick:"buttonClick"}),(n()(),h["\u0275ted"](-1,null,["\n  "])),(n()(),h["\u0275ted"](-1,null,["\n"]))],function(n,t){var e=t.component;n(t,2,0,h["\u0275inlineInterpolate"](1,"",e.strings.TakingLonger.message,""),h["\u0275inlineInterpolate"](1,"",e.strings.Cancel.label,""))},null)}function p(n){return h["\u0275vid"](0,[(n()(),h["\u0275ted"](-1,null,["\n  "])),(n()(),h["\u0275eld"](1,0,null,null,1,"sme-loading-wheel",[],null,null,null,$.b,$.a)),h["\u0275did"](2,180224,null,0,q.a,[],{message:[0,"message"]},null),(n()(),h["\u0275ted"](-1,null,["\n"]))],function(n,t){n(t,2,0,h["\u0275inlineInterpolate"](1,"",t.component.strings.TakingLongerCancelling.message,""))},null)}function f(n){return h["\u0275vid"](0,[(n()(),h["\u0275ted"](-1,null,["\n  "])),(n()(),h["\u0275eld"](1,0,null,null,13,"div",[["class","iframe-error"]],null,null,null,null,null)),(n()(),h["\u0275ted"](-1,null,["\n    "])),(n()(),h["\u0275eld"](3,0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),h["\u0275ted"](4,null,["",""])),(n()(),h["\u0275ted"](-1,null,["\n    "])),(n()(),h["\u0275eld"](6,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.reopen()&&l),l},null,null)),(n()(),h["\u0275ted"](7,null,["",""])),(n()(),h["\u0275ted"](-1,null,["\n    "])),(n()(),h["\u0275eld"](9,0,null,null,1,"h5",[],null,null,null,null,null)),(n()(),h["\u0275ted"](10,null,["",""])),(n()(),h["\u0275ted"](-1,null,["\n    "])),(n()(),h["\u0275eld"](12,0,null,null,1,"pre",[],null,null,null,null,null)),(n()(),h["\u0275ted"](13,null,["",""])),(n()(),h["\u0275ted"](-1,null,["\n  "])),(n()(),h["\u0275ted"](-1,null,["\n"]))],null,function(n,t){var e=t.component;n(t,4,0,e.errorTitle),n(t,7,0,e.strings.Reload.label),n(t,10,0,e.strings.ErrorDescription.title),n(t,13,0,e.errorMessage)})}function m(n){return h["\u0275vid"](0,[(n()(),h["\u0275and"](16777216,null,null,1,null,c)),h["\u0275did"](1,16384,null,0,y.NgIf,[h.ViewContainerRef,h.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),h["\u0275ted"](-1,null,["\n"])),(n()(),h["\u0275and"](16777216,null,null,1,null,d)),h["\u0275did"](4,16384,null,0,y.NgIf,[h.ViewContainerRef,h.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),h["\u0275ted"](-1,null,["\n"])),(n()(),h["\u0275and"](16777216,null,null,1,null,p)),h["\u0275did"](7,16384,null,0,y.NgIf,[h.ViewContainerRef,h.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),h["\u0275ted"](-1,null,["\n"])),(n()(),h["\u0275and"](16777216,null,null,1,null,f)),h["\u0275did"](10,16384,null,0,y.NgIf,[h.ViewContainerRef,h.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),h["\u0275ted"](-1,null,["\n"]))],function(n,t){var e=t.component;n(t,1,0,e.openState===e.openStateEnum.InProgress),n(t,4,0,e.openState===e.openStateEnum.Delayed),n(t,7,0,e.openState===e.openStateEnum.Canceled),n(t,10,0,e.openState===e.openStateEnum.Error)},null)}Object.defineProperty(t,"__esModule",{value:!0});var h=e("LMZF"),g=function(){},v=e("UHIZ"),y=e("Un6q"),C=e("+NsK"),b=e("/iIN"),x=e("IURZ"),P=e("0nO6"),S=e("Dqrr"),M=e("JPbF"),O=e("l1Gu"),F=function(){function n(n,t,e,l){var o=this;this.appContext=n,this.shellService=t,this.route=e,this.router=l,this.strings=MsftSme.resourcesStrings().MsftSmeShell.App.Sidebar,this.filter="",this.keywordMatches={},this.filteredTools=[],this.shouldCollapseWhenSearchBoxBlured=!1,this.tools=[],this.diffFilter="",this.paramsChangedSubscription=this.router.events.filter(function(n){return n instanceof v.NavigationEnd}).concatMap(function(n){return o.initializeToolsList()}).subscribe()}return n.prototype.ngOnInit=function(){},n.prototype.ngOnDestroy=function(){this.paramsChangedSubscription.unsubscribe()},n.prototype.ngDoCheck=function(){this.filter!==this.diffFilter&&(this.diffFilter=this.filter,this.filteredTools=this.filterTools())},n.prototype.canDeactivateTool=function(n,t,e){return S.Observable.of(!0)},n.prototype.expandToolsByClickSearchBox=function(){var n=this;this.splitView.isExpanded||(this.splitView.togglePane(),setTimeout(function(){return n.searchTextBox.nativeElement.focus()}))},n.prototype.onSearchBoxFocused=function(){this.splitView.isExpanded||(this.splitView.togglePane(),this.shouldCollapseWhenSearchBoxBlured=!0)},n.prototype.onSearchBoxBlured=function(){var n=this;this.shouldCollapseWhenSearchBoxBlured&&(this.shouldCollapseWhenSearchBoxBlured=!1,this.splitView.togglePane(),setTimeout(function(){return n.navigationContainer.nativeElement.scrollLeft=0}))},n.prototype.initializeToolsList=function(){var n=this,t=O.a.getFullShellRoutingParameters(this.route.snapshot);if(this.routingParams&&this.routingParams.solutionId===t.solutionId&&this.routingParams.connectionType===t.connectionType&&this.routingParams.connectionName===t.connectionName)return S.Observable.of(null);this.routingParams=t;var e=O.a.getDefaultToolForSolution(this.appContext,this.routingParams),l=e?M.o.createFormattedEntrypoint(e):null,o=O.a.getBaseToolsRoute(this.routingParams).join("/").substr(1);return O.a.queryToolsListFromShellParameters(this.appContext,this.shellService.inventoryCaches,this.routingParams).map(function(t){return n.tools=t.filter(function(n){return n.show}).map(function(t){return{id:M.o.createFormattedEntrypoint(t),entryPoint:t,fontIcon:t.icon.startsWith("sme-icon:")?t.icon.substr(9):null,link:n.getToolRoute(t,o),disabled:t.detail===M.p.NotConfigured,message:t.message}}).sort(function(n,t){return n.id===l?-1:t.id===l?1:n.entryPoint.displayName.localeCompareIgnoreCase(t.entryPoint.displayName)}),n.filteredTools=n.filterTools(),null})},n.prototype.filterTools=function(){if(this.keywordMatches={},!this.tools||0===this.tools.length)return this.tools;var n=this.tools;if(!this.filter)return n;var t=this.filter.toLocaleLowerCase();return n.filter(function(n){return n.entryPoint.displayName.toLocaleLowerCase().indexOf(t)>-1})},n.prototype.getToolRoute=function(n,t){var e=M.o.createFormattedEntrypoint(n);return t+"/"+M.o.getFriendlyUrlSegmentForEntryPoint(e,n.entryPointType)},n}(),I=e("2m1n"),w=e("pAMm"),T=h["\u0275crt"]({encapsulation:0,styles:[[".tools-nav[_ngcontent-%COMP%]{background:#fff;color:#262626;min-width:150px;max-width:350px;height:100%}.tools-nav.collapsed[_ngcontent-%COMP%]{width:55px;min-width:0;overflow:hidden}.tools-nav-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;padding-left:15px;overflow:hidden;height:44px;color:#333}.tools-nav.collapsed[_ngcontent-%COMP%]   .tools-nav-title[_ngcontent-%COMP%]{padding-left:0}.tools-nav-title[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{line-height:44px}.tools-nav.collapsed[_ngcontent-%COMP%]   .tools-nav-title[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:none}.tool.search-button[_ngcontent-%COMP%]{height:42px;display:none;cursor:pointer}.tools-nav.collapsed[_ngcontent-%COMP%]   .tool.search-button[_ngcontent-%COMP%]{display:block}.searchbox[_ngcontent-%COMP%]{margin:6px 15px;position:relative}.searchbox[_ngcontent-%COMP%]   .tool-icon[_ngcontent-%COMP%]{line-height:44px}.tools-nav.collapsed[_ngcontent-%COMP%]   .searchbox[_ngcontent-%COMP%]{border:none;margin-left:0;padding-left:0}.tools-nav.collapsed[_ngcontent-%COMP%]   .searchbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;height:36px;cursor:pointer}.split-view-toggle[_ngcontent-%COMP%]{background:transparent;border:none;width:44px;height:44px;font-size:19px;padding:8px}.tools-nav.collapsed[_ngcontent-%COMP%]   .split-view-toggle[_ngcontent-%COMP%]{margin:0;padding:0;width:100%}.tools-nav.collapsed[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{margin-right:-50px}.tool[_ngcontent-%COMP%]{-ms-flex-line-pack:center;align-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:36px;width:100%;cursor:pointer;white-space:nowrap;font-size:12px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 15px 0 5px;color:#262626;border-left-width:5px;border-left-style:solid;border-left-color:transparent}.tool.active[_ngcontent-%COMP%], .tool[_ngcontent-%COMP%]:focus, .tool[_ngcontent-%COMP%]:hover{background:#f2fbfe;color:#000}.tool[_ngcontent-%COMP%]:focus, .tool[_ngcontent-%COMP%]:hover{text-decoration:underline}.tool[_ngcontent-%COMP%]:focus{outline:1px dashed #000;outline-offset:-1px}.tool.active[_ngcontent-%COMP%]{background:#e6f7fe;border-left-color:#327cd4}.tool.sideloaded[_ngcontent-%COMP%]{color:#f60;font-weight:700}.tool.sideloaded.active[_ngcontent-%COMP%]{border-left-color:#f60;color:#f60}.tool-label[_ngcontent-%COMP%]{display:inline-block;font-size:13px;margin-right:15px}.tools-nav.collapsed[_ngcontent-%COMP%]   .tool-label[_ngcontent-%COMP%]{display:none}.tool-title[_ngcontent-%COMP%]{width:227px;overflow:hidden;text-overflow:ellipsis}.tool-icon[_ngcontent-%COMP%]{height:36px;width:36px;min-width:36px;box-sizing:content-box;background-size:18px;background-position:50%;background-repeat:no-repeat;display:inline-block;font-size:14px;text-align:center;line-height:36px;vertical-align:middle}.keywords[_ngcontent-%COMP%]{font-size:10px;font-style:italic;font-weight:300}"]],data:{}}),R=h["\u0275ccf"]("sme-multi-tool-component",F,function(n){return h["\u0275vid"](0,[(n()(),h["\u0275eld"](0,0,null,null,1,"sme-multi-tool-component",[],null,null,null,u,T)),h["\u0275did"](1,507904,null,0,F,[I.a,w.a,v.ActivatedRoute,v.Router],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),_=e("M23W"),E=e("5q5V"),k=e("MeT6"),N=function(){function n(n,t,e,l,o){var i=this;this.appContextService=n,this.elementRef=t,this.iFrameService=e,this.setIdOfFrames=l,this.numberOfFrames=o,this.replay=new E.a,this.routerHandles={navigationEndHandler:function(n,t,e,l,o){var i=l.url.split("?")[0];i=MsftSme.trimStart(i,"/"),i=MsftSme.trimEnd(i,"/"),O.a.getFullShellRoutingParameters(e.snapshot);var r=M.o.createFormattedEntrypoint(o.entryPoint),u=M.o.getFriendlyUrlSegmentForEntryPoint(r,o.entryPoint.entryPointType);return!(i.indexOf("/tools/"+u)<0||k.n.areEqualUrl(t,decodeURI(n.url).split(/[?#]/)[0]))},getInnerPath:function(n,t,e){var l=t.url.split("?")[0];l=MsftSme.trimStart(l,"/"),l=MsftSme.trimEnd(l,"/");var o=O.a.getFullShellRoutingParameters(n.snapshot),i=M.o.createFormattedEntrypoint(e.entryPoint),r=M.o.getFriendlyUrlSegmentForEntryPoint(i,e.entryPoint.entryPointType),u="/tools/"+r;if("solution"===e.entryPoint.entryPointType&&(u=e.entryPoint.connections?"/connections/"+o.connectionType+"/"+o.connectionName:""+r),l.indexOf(u)<0)return M.C.log({source:"CachedFramesBase",level:M.B.Error,message:"Unexpected route navigation: {0}".format(t.url)}),"";var a=e.entryPoint.path,s=l.split(u);if(s.length<2)return a;var c=s[1];return""===MsftSme.trimEnd(c,"/")?a:c=a+"/"+MsftSme.trimStart(s[1],"/")}},this.setFrame(null),this.iFrameService.init(this.setIdOfFrames,this.numberOfFrames,!0,this.routerHandles),this.serviceSubscription=this.iFrameService.frameDataEvent.filter(function(n){return null!=n.callback}).delayWhen(function(){return i.replay}).flatMap(function(n){var t=i.elementRef.nativeElement.children[0].children;return n.callback(n,t[n.frameData.id],t[n.frameData.id].contentWindow)}).subscribe(function(n){return i.setFrame(n.frameData)})}return n.prototype.ngOnInit=function(){var n=this,t=this.elementRef.nativeElement.children[0].children;t[this.numberOfFrames-1].contentWindow?this.replay.next(!0):t[this.numberOfFrames-1].onload=function(){return n.replay.next(!0)}},n.prototype.ngOnDestroy=function(){this.replay.complete(),this.serviceSubscription.unsubscribe(),this.iFrameService.exit(this.setIdOfFrames)},n.prototype.setFrame=function(n){for(var t=[],e=0;e<this.numberOfFrames;e++)t[e]={id:e,class:"display-none-frame"};n&&(t[n.id].class="display-block-frame"),this.frameCollection=t},n}(),D=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])};return function(t,e){function l(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(l.prototype=e.prototype,new l)}}(),L=function(n){function t(e,l,o){return n.call(this,e,l,o,t.cachedFrameId,t.numberOfFrames)||this}return D(t,n),t.cachedFrameId=1,t.numberOfFrames=4,t}(N),V=e("30nR"),B=h["\u0275crt"]({encapsulation:0,styles:[_.a],data:{}}),A=e("1mvp"),z=function(){function n(n,t,e,l){var o=this;this.appContext=n,this.route=t,this.router=e,this.iFrameService=l,this.subscription=this.router.events.filter(function(n){return n instanceof v.NavigationEnd}).subscribe(function(n){o.updateTool()})}return n.navigationTitle=function(n,t){var e=O.a.getFullShellRoutingParameters(t);return e.tool?e.tool.displayName:null},n.prototype.ngOnInit=function(){this.updateTool()},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n.prototype.canDeactivateTool=function(n,t,e){return this.iFrameService.canDeactivateToolOnFrame(L.cachedFrameId,this.appContext,n,t,e)},n.prototype.updateTool=function(){var n=O.a.getFullShellRoutingParameters(this.route.snapshot),t="";this.tool=null,n.solution&&(t=(n.solutionFriendlyName||n.solutionId)+"/","connections"===n.solution.rootNavigationBehavior&&(t+="connections/"+(n.connectionFriendlyType||n.connectionType)+"/"+n.connectionName),n.solution.tools&&n.solution.tools.enabled?(this.tool=n.tool,t+="/tools"):this.tool=n.solution),A.a.toolsUrlPrefix=t},n}(),U=h["\u0275crt"]({encapsulation:2,styles:[],data:{}}),W=h["\u0275ccf"]("sme-tool-component",z,function(n){return h["\u0275vid"](0,[(n()(),h["\u0275eld"](0,0,null,null,1,"sme-tool-component",[],null,null,null,s,U)),h["\u0275did"](1,245760,null,0,z,[I.a,v.ActivatedRoute,v.Router,V.a],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),$=e("K9cI"),q=e("SNmW"),H=function(){var n={};return n[n.Settled=0]="Settled",n[n.Started=1]="Started",n[n.InProgress=2]="InProgress",n[n.Delayed=3]="Delayed",n[n.Canceled=4]="Canceled",n[n.Error=5]="Error",n}(),K=function(){function n(n,t,e,l){var o=this;this.appContext=n,this.route=t,this.router=e,this.iFrameService=l,this.strings=MsftSme.resourcesStrings().MsftSmeShell.App.IFrame,this.openState=H.Settled,this.openStateEnum=H,this.subscription=this.router.events.filter(function(n){return n instanceof v.NavigationEnd}).concatMap(function(n){var t=O.a.getFullShellRoutingParameters(o.route.snapshot),e=t.solution&&t.solution.tools&&t.solution.tools.enabled?t.tool:t.solution;return o.name=e?e.parentModule.name:null,o.entryPointName=e?e.name:null,o.open()}).subscribe(function(n){return o.next(n)})}return n.prototype.ngOnInit=function(){},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe(),this.iFrameService.close(L.cachedFrameId)},n.prototype.reopen=function(){var n=this;this.reopenSubscription&&this.reopenSubscription.unsubscribe(),this.reopenSubscription=this.open().subscribe(function(t){return n.next(t)})},n.prototype.cancel=function(){this.openState!==H.Settled&&(this.iFrameService.cancel(),this.openState=H.Canceled)},n.prototype.open=function(){var t=this,e=M.o.getEnvironmentModule(this.name).entryPoints.first(function(n){return n.name===t.entryPointName});return this.startTime=Date.now(),this.errorTitle=null,this.openState=H.Started,this.timer=setTimeout(function(){t.openState===H.Started&&(t.openState=H.InProgress),t.timer=setTimeout(function(){t.openState===H.InProgress&&(t.openState=H.Delayed)},n.timeDelayed-n.timeInProgress)},n.timeInProgress),this.iFrameService.open(L.cachedFrameId,this.name,e,e.path)},n.prototype.next=function(n){this.timer&&(clearTimeout(this.timer),this.timer=null);var t=Date.now()-this.startTime;this.errorMessage=n.error,n.error?(this.openState=H.Error,this.errorTitle=this.strings.FailedLoad.title.format(this.name)):this.openState=H.Settled,M.C.log({level:M.B.Verbose,source:"sme-iframe",message:this.strings.LoadTime.message.format(this.name,t)})},n.timeInProgress=1e3,n.timeDelayed=1e4,n}(),j=h["\u0275crt"]({encapsulation:0,styles:[_.a],data:{}}),G=h["\u0275ccf"]("sme-iframe",K,function(n){return h["\u0275vid"](0,[(n()(),h["\u0275eld"](0,0,null,null,1,"sme-iframe",[],null,null,null,m,j)),h["\u0275did"](1,245760,null,0,K,[I.a,v.ActivatedRoute,v.Router,V.a],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),J=e("PNCm"),Z=e("3mb5"),Q=e("RyBE"),Y=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])};return function(t,e){function l(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(l.prototype=e.prototype,new l)}}(),X=function(){function n(n){this.router=n}return n.prototype.canActivate=function(n,t){var e=O.a.getFullShellRoutingParameters(n);return e.solution?e.toolId&&!e.toolFriendlyName&&M.o.getFriendlyUrlSegmentForEntryPoint(e.toolId,"tool",!1)?(O.a.navigateToTool(this.router,e),!1):this.canActivateForSolution(n,t,e):(O.a.navigateToHome(this.router),!1)},n.prototype.canDeactivate=function(n,t,e,l){return!n.canDeactivateTool||n.canDeactivateTool(t,e,l)},n}(),nn=function(n){function t(t){return n.call(this,t)||this}return Y(t,n),t.prototype.canActivateForSolution=function(n,t,e){return!e.solution.tools||!e.solution.tools.enabled||(O.a.navigateToTool(this.router,e,!0),!1)},t}(X),tn=function(n){function t(t){return n.call(this,t)||this}return Y(t,n),t.prototype.canActivateForSolution=function(n,t,e){return!(!e.solution.tools||!e.solution.tools.enabled)||(O.a.navigateToTool(this.router,e,!1),!1)},t}(X),en=function(){function n(n,t){this.appContextService=n,this.router=t}return n.prototype.canActivate=function(n,t){var e=this,l=O.a.getFullShellRoutingParameters(n);return l.solution?this.appContextService.connectionManager.connectionsInitialized.take(1).map(function(){var n=O.a.getToolsListFromShellParametersSimple(e.appContextService,l),t=!l.toolId;if(l.tool){if(n.some(function(n){return M.o.createFormattedEntrypoint(n)===l.toolId}))return!0;l.tool=null,l.toolId=null}if(l.solution.tools.defaultTool)l.toolId=l.solution.parentModule.name+"!"+l.solution.tools.defaultTool;else{var o=n.first();o&&(l.toolId=M.o.createFormattedEntrypoint(o))}return!(!t||l.toolId)||(O.a.navigateToTool(e.router,l,!0),!1)}):(O.a.navigateToHome(this.router),!1)},n}(),ln=e("vL1Y"),on=function(){},rn=e("uTqs"),un=e("C/hL"),an=e("h7zQ"),sn=e("IJ+m"),cn=function(){},dn=function(){},pn=e("2P68");e.d(t,"ToolsModuleNgFactory",function(){return fn});var fn=h["\u0275cmf"](g,[],function(n){return h["\u0275mod"]([h["\u0275mpd"](512,h.ComponentFactoryResolver,h["\u0275CodegenComponentFactoryResolver"],[[8,[R,W,G]],[3,h.ComponentFactoryResolver],h.NgModuleRef]),h["\u0275mpd"](4608,y.NgLocalization,y.NgLocaleLocalization,[h.LOCALE_ID,[2,y["\u0275a"]]]),h["\u0275mpd"](4608,P["\u0275i"],P["\u0275i"],[]),h["\u0275mpd"](4608,P.FormBuilder,P.FormBuilder,[]),h["\u0275mpd"](4608,J.a,J.a,[]),h["\u0275mpd"](4608,A.a,A.a,[v.ActivatedRoute,v.Router,I.a,Z.a,y.Location,Q.Title]),h["\u0275mpd"](4608,tn,tn,[v.Router]),h["\u0275mpd"](4608,nn,nn,[v.Router]),h["\u0275mpd"](4608,en,en,[I.a,v.Router]),h["\u0275mpd"](512,y.CommonModule,y.CommonModule,[]),h["\u0275mpd"](512,P["\u0275ba"],P["\u0275ba"],[]),h["\u0275mpd"](512,P.FormsModule,P.FormsModule,[]),h["\u0275mpd"](512,P.ReactiveFormsModule,P.ReactiveFormsModule,[]),h["\u0275mpd"](512,ln.a,ln.a,[]),h["\u0275mpd"](512,on,on,[]),h["\u0275mpd"](512,rn.a,rn.a,[]),h["\u0275mpd"](512,v.RouterModule,v.RouterModule,[[2,v["\u0275a"]],[2,v.Router]]),h["\u0275mpd"](512,un.a,un.a,[]),h["\u0275mpd"](512,an.a,an.a,[]),h["\u0275mpd"](512,sn.a,sn.a,[]),h["\u0275mpd"](512,cn,cn,[]),h["\u0275mpd"](512,dn,dn,[]),h["\u0275mpd"](512,pn.a,pn.a,[]),h["\u0275mpd"](512,g,g,[]),h["\u0275mpd"](1024,v.ROUTES,function(){return[[{path:"tools",canActivate:[tn],component:F,children:[{path:"",pathMatch:"full",canActivate:[en]},{path:":toolId",canActivate:[en],canDeactivate:[nn],component:z,children:[{path:"**",component:K}]}]},{path:"",pathMatch:"full",canActivate:[nn],canDeactivate:[nn],component:z,children:[{path:"**",component:K}]}]]},[])])})}});